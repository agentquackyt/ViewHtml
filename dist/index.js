class A{html;prefix;constructor(q,H){this.html=q,this.prefix=H}selector(q){return this.prefix=q,this}s(q){return this.prefix=q,this}interpret(q){let H=/@for:(\w+)\{([\s\S]*?)\}/g;this.html=this.html.replace(H,(v,B,j)=>{let b=q[B];if(Array.isArray(b))return b.map((u)=>{return j.replace(new RegExp(`\\${this.prefix}(\\w+)`,"g"),(C,z)=>{return z in u?u[z]:C})}).join("");return v});let V=new RegExp(`\\${this.prefix}(\\w+)`,"g");return this.html=this.html.replace(V,(v,B)=>{if(B in q&&!Array.isArray(q[B]))return q[B];return v}),this}async translate(q,H){let V;if(typeof q==="string")V=await Bun.file(q).json();else V=q;let v;if(H in V)v=V[H];else if("EN"in V)v=V.EN;else v={};let B=new RegExp(`\\${this.prefix}(\\w+)`,"g");return this.html=this.html.replace(B,(j,b)=>{return b in v?v[b]:j}),this}toHTML(){return this.html}}export{A as ViewHtml};
